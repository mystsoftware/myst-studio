
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>MyST Upgrade Guide Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-hints/plugin-hints.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fancybox/jquery.fancybox.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fancybox/jquery.fancybox-buttons.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../../appendix/artifact/" />
    
    
    <link rel="prev" href="../management/" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Title and Copyright Information
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">User Guide</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../../introduction/">
            
                <a href="../../introduction/">
            
                    
                    Rubicon Red MyST
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="../../introduction/platform-provisioning/">
            
                <a href="../../introduction/platform-provisioning/">
            
                    
                    Platform Provisioning and Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2" data-path="../../introduction/application-release-automation/">
            
                <a href="../../introduction/application-release-automation/">
            
                    
                    Application Release Automation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3" data-path="../../platform/security/">
            
                <a href="../../platform/security/">
            
                    
                    Security Salt and Hash
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../../infrastructure/">
            
                <a href="../../infrastructure/">
            
                    
                    Infrastructure Management
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1" data-path="../../infrastructure/environment-types/">
            
                <a href="../../infrastructure/environment-types/">
            
                    
                    Environment Types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2" data-path="../../infrastructure/compute-definitions/">
            
                <a href="../../infrastructure/compute-definitions/">
            
                    
                    Compute Definitions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.3" data-path="../../infrastructure/providers/pre-existing/">
            
                <a href="../../infrastructure/providers/pre-existing/">
            
                    
                    Pre-Existing Infrastructure
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.4" data-path="../../infrastructure/providers/on-demand/aws/">
            
                <a href="../../infrastructure/providers/on-demand/aws/">
            
                    
                    On-Demand Infrastructure
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.5" data-path="../../infrastructure/providers/hosts/">
            
                <a href="../../infrastructure/providers/hosts/">
            
                    
                    Host Prerequisites
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="../../platform/">
            
                <a href="../../platform/">
            
                    
                    Platform Fundamentals
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1.1" data-path="../../platform/blueprints/">
            
                <a href="../../platform/blueprints/">
            
                    
                    Platform Blueprints
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.2" data-path="../../platform/templates/">
            
                <a href="../../platform/templates/">
            
                    
                    Platform Templates
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.3" data-path="../../platform/models/">
            
                <a href="../../platform/models/">
            
                    
                    Platform Models
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1.3.1" data-path="../../platform/models/pre-existing/">
            
                <a href="../../platform/models/pre-existing/">
            
                    
                    Pre-Existing Infrastructure
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.3.2" data-path="../../platform/models/on-demand-aws/">
            
                <a href="../../platform/models/on-demand-aws/">
            
                    
                    On Demand (AWS)
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.1.4" data-path="../../platform/cloud/instances/">
            
                <a href="../../platform/cloud/instances/">
            
                    
                    Registering Cloud Instances
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.5" data-path="../../platform/provisioning/">
            
                <a href="../../platform/provisioning/">
            
                    
                    Provisioning Platform Instances
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.6" data-path="../../platform/update/">
            
                <a href="../../platform/update/">
            
                    
                    Updating Platform Instances
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.7" data-path="../../platform/definitions/">
            
                <a href="../../platform/definitions/">
            
                    
                    Maintaining Platform Definitions
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1.7.1" data-path="../../platform/definitions/version-control/">
            
                <a href="../../platform/definitions/version-control/">
            
                    
                    Platform Version Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.7.2" data-path="../../platform/definitions/editor/">
            
                <a href="../../platform/definitions/editor/">
            
                    
                    Platform Editor
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1.7.2.1" data-path="../../platform/definitions/editor/control-bar/">
            
                <a href="../../platform/definitions/editor/control-bar/">
            
                    
                    Control Bar
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.7.2.2" data-path="../../platform/definitions/editor/tree-view/">
            
                <a href="../../platform/definitions/editor/tree-view/">
            
                    
                    Tree View
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.7.2.3" data-path="../../platform/definitions/editor/properties-view/">
            
                <a href="../../platform/definitions/editor/properties-view/">
            
                    
                    Properties View
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.7.2.4" data-path="../../platform/definitions/editor/topology-view/">
            
                <a href="../../platform/definitions/editor/topology-view/">
            
                    
                    Topology View
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.7.2.5" data-path="../../platform/definitions/editor/source-view/">
            
                <a href="../../platform/definitions/editor/source-view/">
            
                    
                    Source View
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.7.2.6" data-path="../../platform/definitions/editor/property-references/">
            
                <a href="../../platform/definitions/editor/property-references/">
            
                    
                    Using Property References
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.1.8" data-path="../../platform/management/">
            
                <a href="../../platform/management/">
            
                    
                    Managing Platform Instances
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.9" data-path="../../platform/introspection/">
            
                <a href="../../platform/introspection/">
            
                    
                    Introspecting Existing Platform Instances
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.10" data-path="../../platform/upgrade/">
            
                <a href="../../platform/upgrade/">
            
                    
                    Upgrading Platform Instances
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="../../platform/resources/weblogic/">
            
                <a href="../../platform/resources/weblogic/">
            
                    
                    Platform Configuration
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1.1" data-path="../../platform/resources/weblogic/servers/">
            
                <a href="../../platform/resources/weblogic/servers/">
            
                    
                    WebLogic Servers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.2" data-path="../../platform/resources/weblogic/patches/">
            
                <a href="../../platform/resources/weblogic/patches/">
            
                    
                    Oracle Patches
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.3" data-path="../../platform/resources/weblogic/jdbc/">
            
                <a href="../../platform/resources/weblogic/jdbc/">
            
                    
                    Data Sources (JDBC)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.4" data-path="../../platform/resources/weblogic/jms/">
            
                <a href="../../platform/resources/weblogic/jms/">
            
                    
                    Java Messaging Service (JMS)
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1.4.1" data-path="../../platform/resources/weblogic/jms/persistent-stores/">
            
                <a href="../../platform/resources/weblogic/jms/persistent-stores/">
            
                    
                    Persistent Stores
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.4.2" data-path="../../platform/resources/weblogic/jms/modules/">
            
                <a href="../../platform/resources/weblogic/jms/modules/">
            
                    
                    JMS Modules and Components
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.4.3" data-path="../../platform/resources/weblogic/jms/store-and-forward/">
            
                <a href="../../platform/resources/weblogic/jms/store-and-forward/">
            
                    
                    Store and Forward (SAF) Configuration
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5.1.5" data-path="../../platform/resources/weblogic/jca-adapters/">
            
                <a href="../../platform/resources/weblogic/jca-adapters/">
            
                    
                    JCA Adapters
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.6" data-path="../../platform/resources/weblogic/work-managers/">
            
                <a href="../../platform/resources/weblogic/work-managers/">
            
                    
                    Work Managers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.7" data-path="../../platform/resources/weblogic/servers/load-balancer-configuration.html">
            
                <a href="../../platform/resources/weblogic/servers/load-balancer-configuration.html">
            
                    
                    Load Balancer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.8" data-path="../../platform/resources/weblogic/servers/web-tier.html">
            
                <a href="../../platform/resources/weblogic/servers/web-tier.html">
            
                    
                    Webtier Routing Rules
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.9" data-path="../../platform/resources/weblogic/servers/configuring-security.html">
            
                <a href="../../platform/resources/weblogic/servers/configuring-security.html">
            
                    
                    Users, Groups, Roles and Policies
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.10" data-path="../../platform/resources/weblogic/servers/applying-certificates.html">
            
                <a href="../../platform/resources/weblogic/servers/applying-certificates.html">
            
                    
                    Keystore Certificates
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.11" data-path="../../platform/resources/weblogic/servers/setting-startup-and-shutdown-classes.html">
            
                <a href="../../platform/resources/weblogic/servers/setting-startup-and-shutdown-classes.html">
            
                    
                    Startup and Shutdown Classes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.12" data-path="../../platform/resources/weblogic/servers/weblogic-deployment-targeting.html">
            
                <a href="../../platform/resources/weblogic/servers/weblogic-deployment-targeting.html">
            
                    
                    Weblogic Deployment Targeting
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="../../build/">
            
                <a href="../../build/">
            
                    
                    Build Automation
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1.1" data-path="../../build/server/configuration/">
            
                <a href="../../build/server/configuration/">
            
                    
                    Build Server Configuration
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1.1.1" data-path="../../infrastructure/continuous-delivery-profile/">
            
                <a href="../../infrastructure/continuous-delivery-profile/">
            
                    
                    Continuous Delivery Profile
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.1.2" data-path="../../build/server/configuration/jenkins/">
            
                <a href="../../build/server/configuration/jenkins/">
            
                    
                    MyST Studio Plugin for Jenkins
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6.1.2" data-path="../../build/maven/">
            
                <a href="../../build/maven/">
            
                    
                    Configuring Maven Builds
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.3" data-path="../../build/ci/">
            
                <a href="../../build/ci/">
            
                    
                    Configuring Automated Builds 
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1.3.1" data-path="../../build/ci/jenkins/">
            
                <a href="../../build/ci/jenkins/">
            
                    
                    Configuring Jenkins Build Jobs
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6.1.4" data-path="../../build/artifacts/">
            
                <a href="../../build/artifacts/">
            
                    
                    Artifact Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.5" data-path="../../build/deploy-config/">
            
                <a href="../../build/deploy-config/">
            
                    
                    Deploy Time Customizations
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1.5.1" data-path="../../howtos/use-myst-generic-configuration-plans.html">
            
                <a href="../../howtos/use-myst-generic-configuration-plans.html">
            
                    
                    MyST Configuration Plans
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="7.1" data-path="../../deploy/application/">
            
                <a href="../../deploy/application/">
            
                    
                    Application Deployment
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.1.1" data-path="../../deploy/application/blueprints/">
            
                <a href="../../deploy/application/blueprints/">
            
                    
                    Configuring Application Blueprints
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="8.1" data-path="../../release/">
            
                <a href="../../release/">
            
                    
                    Release Pipelines
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="8.1.1" data-path="../../release/pipeline/organization/">
            
                <a href="../../release/pipeline/organization/">
            
                    
                    Pipeline Organization
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="8.1.1.1" data-path="../../release/pipeline/organization/groups/">
            
                <a href="../../release/pipeline/organization/groups/">
            
                    
                    Pipeline Groups
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.1.1.2" data-path="../../release/pipeline/organization/stream-types/">
            
                <a href="../../release/pipeline/organization/stream-types/">
            
                    
                    Stream Types
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="8.1.2" data-path="../../release/pipeline/templates/">
            
                <a href="../../release/pipeline/templates/">
            
                    
                    Pipeline Templates
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.1.3" data-path="../../release/pipeline/">
            
                <a href="../../release/pipeline/">
            
                    
                    Configuring Release Pipelines
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.1.4" data-path="../../release/pipeline/dashboard/">
            
                <a href="../../release/pipeline/dashboard/">
            
                    
                    Release Pipeline Dashboards
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="9.1" data-path="../">
            
                <a href="../">
            
                    
                    Role-Based Access Control
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="9.1.1" data-path="../users/">
            
                <a href="../users/">
            
                    
                    User Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="9.1.2" data-path="../roles/">
            
                <a href="../roles/">
            
                    
                    Role Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="9.1.3" data-path="../workspaces/">
            
                <a href="../workspaces/">
            
                    
                    Workspace Management
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Administration Guides</li>
        
        
    
        <li class="chapter " data-level="10.1" data-path="../../installation/myst-studio/">
            
                <a href="../../installation/myst-studio/">
            
                    
                    MyST Installation Guide
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="10.1.1" data-path="../../installation/myst-studio/requirements/">
            
                <a href="../../installation/myst-studio/requirements/">
            
                    
                    System Requirements
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="10.1.2" data-path="../../installation/myst-studio/docker/">
            
                <a href="../../installation/myst-studio/docker/">
            
                    
                    Docker-based Installation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="10.1.3" data-path="../../installation/myst-studio/alternatives/">
            
                <a href="../../installation/myst-studio/alternatives/">
            
                    
                    Alternative Installations
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="10.2" data-path="../management/">
            
                <a href="../management/">
            
                    
                    MyST Management Scripts
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="10.3" data-path="./">
            
                <a href="./">
            
                    
                    MyST Upgrade Guide
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Appendix</li>
        
        
    
        <li class="chapter " data-level="11.1" data-path="../../appendix/artifact/">
            
                <a href="../../appendix/artifact/">
            
                    
                    Supported Artifacts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.2" data-path="../../appendix/configuration/">
            
                <a href="../../appendix/configuration/">
            
                    
                    Supported Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.3" data-path="../../appendix/errors/">
            
                <a href="../../appendix/errors/">
            
                    
                    Error Codes
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >MyST Upgrade Guide</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="myst-upgrade-guide">MyST Upgrade Guide</h1>
<!-- toc -->
<ul>
<li><a href="#upgrade-approaches">Upgrade Approaches</a><ul>
<li><a href="#in-place-upgrade">In-Place Upgrade</a><ul>
<li><a href="#upgrade-steps">Upgrade Steps</a><ul>
<li><a href="#step-1-perform-the-upgrade">Step 1: Perform the upgrade</a></li>
<li><a href="#step-2-verify-the-upgrade">Step 2: Verify the upgrade</a></li>
</ul>
</li>
<li><a href="#rollback-steps">Rollback Steps</a><ul>
<li><a href="#step-1-re-tag-the-old-image">Step 1: Re-tag the old image</a></li>
<li><a href="#step-2-restore-the-database">Step 2: Restore the database</a></li>
<li><a href="#step-3-verify-the-downgrade">Step 3: Verify the downgrade</a></li>
</ul>
</li>
<li><a href="#pros--cons">Pros / Cons</a><ul>
<li><a href="#pros">Pros:</a></li>
<li><a href="#cons">Cons:</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#phased-upgrade">Phased Upgrade</a><ul>
<li><a href="#upgrade-steps-1">Upgrade Steps</a><ul>
<li><a href="#step-1-download-the-latest-version-of-myst-studio">Step 1: Download the latest version of MyST Studio</a></li>
<li><a href="#step-2-take-a-copy-of-the-latest-production-state-and-import-to-non-production-optional">Step 2: Take a copy of the latest production state and import to non-production (optional)</a></li>
<li><a href="#step-3-upgrade-myst-studio">Step 3: Upgrade MyST Studio</a></li>
<li><a href="#step-4-verify-the-upgrade-on-non-production">Step 4: Verify the upgrade on non-production</a></li>
<li><a href="#step-5-if-upgrade-is-successful-perform-upgrade-on-production">Step 5: If upgrade is successful, perform upgrade on production</a></li>
<li><a href="#step-6-verify-the-upgrade-on-production">Step 6: Verify the upgrade on production</a></li>
</ul>
</li>
<li><a href="#rollback-steps-1">Rollback Steps</a><ul>
<li><a href="#step-1-re-tag-the-old-image-1">Step 1: Re-tag the old image</a></li>
<li><a href="#step-2-restore-the-database-1">Step 2: Restore the database</a></li>
<li><a href="#step-3-verify-the-downgrade-1">Step 3: Verify the downgrade</a></li>
</ul>
</li>
<li><a href="#pros--cons-1">Pros / Cons</a><ul>
<li><a href="#pros-1">Pros:</a></li>
<li><a href="#cons-1">Cons:</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#zero-downtime-upgrade">Zero Downtime Upgrade</a><ul>
<li><a href="#upgrade-steps-2">Upgrade Steps</a><ul>
<li><a href="#step-1-download-the-latest-version-of-myst-studio-on-the-green-instance">Step 1: Download the latest version of MyST Studio on the green instance</a></li>
<li><a href="#step-2-set-blue-repository-to-read-only-optional">Step 2: Set blue repository to read-only (optional)</a></li>
<li><a href="#step-3-take-a-copy-of-the-latest-blue-instance-state-and-import-to-the-green-instance">Step 3: Take a copy of the latest blue instance state and import to the green instance</a></li>
<li><a href="#step-4-verify-the-upgrade-on-the-green-instance">Step 4: Verify the upgrade on the green instance</a></li>
<li><a href="#step-5-if-upgrade-is-successful-switch-the-dns-record-to-point-to-the-green-instance">Step 5: If upgrade is successful, switch the DNS record to point to the green instance</a></li>
</ul>
</li>
<li><a href="#rollback-steps-2">Rollback Steps</a></li>
<li><a href="#pros--cons-2">Pros / Cons</a><ul>
<li><a href="#pros">Pros</a></li>
<li><a href="#cons">Cons</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#offline-upgrade">Offline Upgrade</a></li>
<li><a href="#upgrading-from-cli-to-studio">Upgrading from CLI to Studio</a></li>
</ul>
<!-- tocstop -->
<p>New MyST features and bug fixes are frequently made available. Enterprises can easily upgrade their on-premise instance of MyST Studio by pulling down the latest version directly from the web or in-directly by downloading the associated Docker images and copying them up to the MyST host.</p>
<blockquote>
<p>An upgrade of the MyST container will also include the latest patches for the underlying images which it is based off such as <code>tomcat</code> and the operating system which it is based off.</p>
</blockquote>
<p>If you are a MyST customer, who started using MyST prior to 2016, you may still be using the MyST Command-Line Interface. For details on upgrading from MyST CLI to MyST Studio see the associated section within this guide.</p>
<h2 id="upgrade-approaches">Upgrade Approaches</h2>
<p>There are a number of different approaches that can be taken for upgrading MyST Studio. It is advisable to choose an approach that is appropriate for your organisations availability requirements. As the downtime during an upgrade is reduced the complexity of the upgrade generally increases. For that reason, the choice of upgrade approach is generally a trade off between reducing downtime and reducing complexity. The most common upgrade approaches are:</p>
<ul>
<li>In-Place Upgrade: This involves upgrading a single instance of MyST Studio in-place. This will require a small downtime.</li>
<li>Phased Upgrade: This involves testing an upgrade on a non-production instance, before performing the upgrade on the production instance. This will still require a small downtime.</li>
<li>Zero Downtime Upgrade: This involves side-by-side upgrade of MyST Studio in order to reduce downtime or avoid it altogether.</li>
</ul>
<h3 id="in-place-upgrade">In-Place Upgrade</h3>
<p>The simplest upgrade approach is to have a single instance which is upgraded in-place. This upgrade approach will require an outage.</p>
<h4 id="upgrade-steps">Upgrade Steps</h4>
<h5 id="step-1-perform-the-upgrade">Step 1: Perform the upgrade</h5>
<p>This can be executed by running the following on the MyST Studio host.</p>
<p><code>/opt/myst-studio/bin/upgrade.sh &lt;VERSION&gt;</code></p>
<!-- TODO: Add TIP -->
<p>This will require an outage of the MyST Studio instance. For a typical upgrade the outage should be no longer than 5 minutes.</p>
<table>
<thead>
<tr>
<th>MyST Studio Script</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/opt/myst-studio/bin/pull.sh</code></td>
<td>Pulls the MyST Studio container from the Public MyST Docker Registry using the customer key and tags it as myst-studio. If internet access is not available from the MyST Studio host this will need to be performed manually by downloading the Docker image from the MyST website and performing the following steps. <code>docker load -i &lt;MyST Studio Docker Image&gt;</code> <code>docker tag &lt;Image Name&gt; myst-studio</code></td>
</tr>
<tr>
<td><code>/opt/myst-studio/bin/backup-database.sh</code></td>
<td>Performs a backup of the database to MyST Studio home under the backup directory with a datetime suffix. The location is printed to the output. For example: <code>Backed up to /opt/myst-studio/backup/myst-studio-1468979016.sql</code> Take note of the location as you will require this later if you intend to perform a rollback.</td>
</tr>
<tr>
<td><code>/opt/myst-studio/bin/stop.sh</code></td>
<td>Stops the MyST Studio instances</td>
</tr>
<tr>
<td><code>/opt/myst-studio/bin/start.sh</code></td>
<td>Starts the MyST Studio instances. On boot, the MyST Studio web instance will upgrade the database.</td>
</tr>
<tr>
<td><code>/opt/myst-studio/bin/output-logs.sh</code></td>
<td>This displays the MyST Studio start up logs during startup.  This can be closed by typing Ctrl+C.</td>
</tr>
</tbody>
</table>
<h5 id="step-2-verify-the-upgrade">Step 2: Verify the upgrade</h5>
<p>At a minimum, the following upgrade verification steps should be performed.</p>
<ul>
<li>Check there are no errors shown in the MyST Studio start up log</li>
<li>Login to the MyST Studio console and check that the version shown in the bottom right-hand corner is correct.</li>
</ul>
<h4 id="rollback-steps">Rollback Steps</h4>
<p>In the event of a failure during the upgrade the following steps can be performed to rollback the instance.</p>
<h5 id="step-1-re-tag-the-old-image">Step 1: Re-tag the old image</h5>
<p>Find the previous version of the MyST Studio Docker Image. To see all version, you can execute the following:</p>
<pre><code>docker images | grep myst-studio
</code></pre><p>Re-tag the image to be called &quot;myst-studio&quot;. This will ensure on the next startup that the earlier version of MyST Studio is used. Below is an example for downgrade to MyST 3.9.0.3</p>
<pre><code>docker tag 067343992071.dkr.ecr.us-west-2.amazonaws.com/myst-studio:3.9.0.3 myst-studio
</code></pre><h5 id="step-2-restore-the-database">Step 2: Restore the database</h5>
<p>This can be executed by running the following on the MyST Studio host.</p>
<pre><code>/opt/myst-studio/bin/update-database.sh &lt;Path to previous backup&gt;
</code></pre><p>This step will perform an outage of the MyST Studio instance. This outage should be no longer than 5 minutes.
The following steps are performed as part of the database update.</p>
<ol>
<li>The MyST Studio web instance is stopped.</li>
<li>The backup SQL is executed on the database</li>
<li>The MyST Studio web instance is started.<h5 id="step-3-verify-the-downgrade">Step 3: Verify the downgrade</h5>
At a minimum, the following downgrade verification steps should be performed.<ul>
<li>Check there are no errors shown in the MyST Studio start up log</li>
<li>Login to the MyST Studio console and check that the version shown in the bottom right-hand corner is correct.</li>
</ul>
</li>
</ol>
<h4 id="pros--cons">Pros / Cons</h4>
<h5 id="pros">Pros:</h5>
<ul>
<li>Simple to setup</li>
<li>No need to manage the migration of data between instances</li>
</ul>
<h5 id="cons">Cons:</h5>
<ul>
<li>Requires an outage to perform an upgrade</li>
<li>No way to test an upgrade prior to applying it</li>
</ul>
<h3 id="phased-upgrade">Phased Upgrade</h3>
<p>This approach involves the use of separate production and non-production instances. An upgrade is first tested on non-production before applying to production.</p>
<h4 id="upgrade-steps">Upgrade Steps</h4>
<h5 id="step-1-download-the-latest-version-of-myst-studio">Step 1: Download the latest version of MyST Studio</h5>
<p>This can be executed by running the following command.
<code>/opt/myst-studio/bin/pull.sh &lt;VERSION&gt;</code>
If internet access is not available from the MyST Studio host this will need to be performed manually by downloading the Docker image from the MyST website and performing the following steps.
<code>docker load -i &lt;MyST Studio Docker Image&gt;</code>
<code>docker tag &lt;Image Name&gt; myst-studio</code></p>
<h5 id="step-2-take-a-copy-of-the-latest-production-state-and-import-to-non-production-optional">Step 2: Take a copy of the latest production state and import to non-production (optional)</h5>
<p>This step is optional if you wish to verify with the same instance data as production.
The involves first taking a copy of production database of MyST Studio by executing the following
/opt/myst-studio/bin/backup-database.sh
The location of the backup will be output to the terminal.
Next, the backup will need to be copied to the non-production host and the following will need to be executed.
/opt/myst-studio/bin/update-database.sh <path to="" backup=""></path>
This step will shutdown and restart the MyST Studio web instance. Because we previously downloaded the latest MyST Studio, it will be upgraded to the latest MyST Studio version on startup.</p>
<h5 id="step-3-upgrade-myst-studio">Step 3: Upgrade MyST Studio</h5>
<p>If you performed the previous step, then your instance should already be upgraded. If not you can upgrade the instance by doing a restart as follows:
/opt/myst-studio/bin/restart.sh</p>
<h5 id="step-4-verify-the-upgrade-on-non-production">Step 4: Verify the upgrade on non-production</h5>
<p>At a minimum, the following upgrade verification steps should be performed.
Check there are no errors shown in the MyST Studio start up log
Login to the MyST Studio console and check that the version shown in the bottom right-hand corner is correct.</p>
<h5 id="step-5-if-upgrade-is-successful-perform-upgrade-on-production">Step 5: If upgrade is successful, perform upgrade on production</h5>
<p>This can be done from the production machine by executing the following:
<code>/opt/myst-studio/bin/upgrade.sh &lt;VERSION&gt;</code>
This will require an outage of the MyST Studio instance. For a typical upgrade the outage should be no longer than 5 minutes.</p>
<h5 id="step-6-verify-the-upgrade-on-production">Step 6: Verify the upgrade on production</h5>
<p>At a minimum, the following upgrade verification steps should be performed.
Check there are no errors shown in the MyST Studio start up log
Login to the MyST Studio console and check that the version shown in the bottom right-hand corner is correct.</p>
<h4 id="rollback-steps">Rollback Steps</h4>
<p>In the event of a failure during the upgrade the following steps can be performed to rollback the instance.</p>
<h5 id="step-1-re-tag-the-old-image">Step 1: Re-tag the old image</h5>
<p>Find the previous version of the MyST Studio Docker Image. To see all version, you can execute the following:
docker images | grep myst-studio
Re-tag the image to be called &quot;myst-studio&quot;. This will ensure on the next startup that the earlier version of MyST Studio is used. Below is an example for downgrade to MyST 3.9.0.3
<code>docker tag 067343992071.dkr.ecr.us-west-2.amazonaws.com/myst-studio:3.9.0.3 myst-studio</code></p>
<h5 id="step-2-restore-the-database">Step 2: Restore the database</h5>
<p>This can be executed by running the following on the MyST Studio host.
<code>/opt/myst-studio/bin/update-database.sh &lt;Path to previous backup&gt;</code>
This step will perform an outage of the MyST Studio instance. This outage should be no longer than 5 minutes.
The following steps are performed as part of the database update.
The MyST Studio web instance is stopped.
The backup SQL is executed on the database
The MyST Studio web instance is started.</p>
<h5 id="step-3-verify-the-downgrade">Step 3: Verify the downgrade</h5>
<p>At a minimum, the following downgrade verification steps should be performed.
Check there are no errors shown in the MyST Studio start up log
Login to the MyST Studio console and check that the version shown in the bottom right-hand corner is correct.</p>
<h4 id="pros--cons">Pros / Cons</h4>
<h5 id="pros">Pros:</h5>
<ul>
<li>Allows for an upgrade to be tested before introducing it to production</li>
<li>Provides a sandbox for testing configuration prior to moving to production<h5 id="cons">Cons:</h5>
</li>
<li>Requires an outage to perform an upgrade</li>
<li>If not using the same data as production (i.e. skipping step 2), it may not be an accurate upgrade verification for production.</li>
<li>More complex to setup than single instance</li>
</ul>
<h3 id="zero-downtime-upgrade">Zero Downtime Upgrade</h3>
<p>With this upgrade strategy, there is two instances (blue and green). At any given time, the DNS record will point to one of the two instances. This allows for an upgrade to be performed on the non-active instance in isolation and once ready, the DNS record can be updated to point traffic to this instance. This approach has the benefit of there not being any outage required when performing the upgrade.</p>
<h4 id="upgrade-steps">Upgrade Steps</h4>
<p>Below are the steps for upgrading our green instance and switching over from our blue instance. If our green instance were the active instance we would reverse blue and green in the below steps.</p>
<h5 id="step-1-download-the-latest-version-of-myst-studio-on-the-green-instance">Step 1: Download the latest version of MyST Studio on the green instance</h5>
<p>This can be executed by running the following command.
/opt/myst-studio/bin/pull.sh <version>
If internet access is not available from the MyST Studio host this will need to be performed manually by downloading the Docker image from the MyST website and performing the following steps.
<code>docker load -i &lt;MyST Studio Docker Image&gt;</code>
<code>docker tag &lt;Image Name&gt; myst-studio</code></version></p>
<h5 id="step-2-set-blue-repository-to-read-only-optional">Step 2: Set blue repository to read-only (optional)</h5>
<p>Prior to upgrading the instance, we will take an export of our blue instance database. During this period, if a user were to make a change on the blue instance it would be lost when we switch over to the green instance. In order to prevent changes, you may wish to make the blue repository read-only as follows:</p>
<pre><code>docker exec -ti myststudio_db mysql -u root -pwelcome1
mysql&gt; FLUSH TABLES WITH READ LOCK;
mysql&gt; SET GLOBAL read_only = ON;
mysql&gt; exit
</code></pre><h5 id="step-3-take-a-copy-of-the-latest-blue-instance-state-and-import-to-the-green-instance">Step 3: Take a copy of the latest blue instance state and import to the green instance</h5>
<p>The involves first taking a copy of blue database of MyST Studio by executing the following
<code>/opt/myst-studio/bin/backup-database.sh</code>
The location of the backup will be output to the terminal.
Next, the backup will need to be copied to the green host and the following will need to be executed.
<code>/opt/myst-studio/bin/update-database.sh &lt;Path to backup&gt;</code>
This step will shutdown and restart the MyST Studio web instance. Because we previously downloaded the latest MyST Studio, it will be upgraded to the latest MyST Studio version on startup.
Be sure to disable the read only mode on the database by executing the following:</p>
<pre><code>docker exec -ti myststudio_db mysql -u root -pwelcome1
mysql&gt; SET GLOBAL read_only = OFF;
mysql&gt; UNLOCK TABLES;
mysql&gt; exit
</code></pre><h5 id="step-4-verify-the-upgrade-on-the-green-instance">Step 4: Verify the upgrade on the green instance</h5>
<p>At a minimum, the following upgrade verification steps should be performed.
Check there are no errors shown in the MyST Studio start up log
Login to the MyST Studio console and check that the version shown in the bottom right-hand corner is correct.</p>
<h5 id="step-5-if-upgrade-is-successful-switch-the-dns-record-to-point-to-the-green-instance">Step 5: If upgrade is successful, switch the DNS record to point to the green instance</h5>
<p>This would simply involve updating the DNS record which is currently pointing to the blue instance so that it points to the green instance.
For the next upgrade, the DNS record will be pointed back to the blue instance.</p>
<h4 id="rollback-steps">Rollback Steps</h4>
<p>The rollback process is straight forward for Blue / Green. If an issue is encountered during the upgrade process then it won&apos;t impact the active instance so there is no rollback required other than setting the instance back from read-only if this was set.</p>
<h4 id="pros--cons">Pros / Cons</h4>
<h5 id="pros">Pros</h5>
<ul>
<li>Allows for an upgrade to be tested without any production outage</li>
<li>Takes the pressure off an upgrade by allowing it to be done independently of an outage</li>
<li>Build-in DR strategy<h5 id="cons">Cons</h5>
</li>
<li>More complex to setup than single instance</li>
<li>While the database is in read-only, any builds from the CI server (e.g. Jenkins) will not be propagated to MyST Studio. The would need to be re-run afterwards for all the failed build jobs.</li>
</ul>
<h2 id="offline-upgrade">Offline Upgrade</h2>
<p>If you are unable to provide access to the MyST Docker Registry either directly or via Proxy Server, you will need to perform the upgrade process offline. This will require pre-downloading the Docker Image from <a href="https://myst.rubiconred.com" target="_blank">myst.rubiconred.com</a> (to do this you will need to login) and copying the image up to the MyST host. Once this is done, perform the following:</p>
<ol>
<li>Change directory to <code>/u01/myst-studio/bin</code></li>
<li>Execute <code>backup-database.sh</code> script to take the backup of the current state.</li>
<li>Execute <code>stop.sh</code> to stop the MyST instance.</li>
<li>Gunzip the installer file using below command<pre><code>gunzip myst-studio-docker-image-&lt;version&gt;.tar.gz
</code></pre></li>
<li>Load the MyST Studio docker image using below command<pre><code>sudo docker load -i myst-studio-docker-image-&lt;version&gt;.tar
</code></pre></li>
<li>Tag the image to myst-studio<pre><code>docker tag 067343992071.dkr.ecr.us-west-2.amazonaws.com/myst-studio:&lt;version&gt; myst-studio
</code></pre></li>
<li>Execute <code>start.sh</code> script to start the MyST Studio in the new version.</li>
</ol>
<h2 id="upgrading-from-cli-to-studio">Upgrading from CLI to Studio</h2>
<p>MyST CLI users will have a MyST Workspace which is a folder for storing Platform Blueprints and Models in XML or Properties notation. The easiest way to start managing these Platform Instances outside the MyST CLI is to first push them to up to MyST Studio. This can be done by executing the following from the MyST Workspace.</p>
<pre><code>/opt/myst-studio/bin/cli2studio -h localhost -p 443
</code></pre><p>...where in the example above MyST Studio is running on <code>localhost:443</code></p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../management/" class="navigation navigation-prev " aria-label="Previous page: MyST Management Scripts">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../../appendix/artifact/" class="navigation navigation-next " aria-label="Next page: Supported Artifacts">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"MyST Upgrade Guide","level":"10.3","depth":1,"next":{"title":"Supported Artifacts","level":"11.1","depth":1,"path":"appendix/artifact/README.md","ref":"appendix/artifact/README.md","articles":[]},"previous":{"title":"MyST Management Scripts","level":"10.2","depth":1,"path":"administration/management/README.md","ref":"administration/management/README.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"3.2.2","theme":"default","variables":{"myst_repo":"../../demos/myst-build","file1":"../../demos/myst-build/myst/fc-parent/fc-sdk/fc-studio-sdk-payload/src/test/resources/src/artifacts/sca/pom.xml"},"plugins":["hints","simple-page-toc","custom-favicon","ga","fancybox"],"pluginsConfig":{"disqus":{"shortName":"myst-studio-documentation"},"fancybox":{"helpers":{"buttons":{}}},"simple-page-toc":{"maxDepth":7,"skipFirstH1":true},"search":{},"hints":{"danger":"fa fa-exclamation-circle","info":"fa fa-info-circle","tip":"fa fa-mortar-board","working":"fa fa-wrench"},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"favicon":"assets/favicon.ico","custom-favicon":{},"ga":{"configuration":"auto","token":"UA-35856338-5"},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"administration/upgrade/README.md","mtime":"2018-03-28T00:04:27.432Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2019-09-23T06:17:23.355Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-ga/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fancybox/jquery.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fancybox/jquery.mousewheel.pack.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fancybox/jquery.fancybox.pack.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fancybox/jquery.fancybox-buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fancybox/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

